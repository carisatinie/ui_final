var places = [
  {
    "Id": 1,
    "Name": "Golden Gate Park",
    "Main Image": "https://media.cntraveler.com/photos/543d39fd00ac583c0af232fb/4:5/w_767,c_limit/golden%2520gate%2520park-17.jpg",
    "Rating": 4.8,
    "Number Ratings": "5 ratings",
    "Reviews": [
      {
        "Rating": 5,
        "Review": "Golden Gate Park is one of the most awesome places in San Francisco. It is to San Francisco the same as Central Park is to New York City. It is home to the De Young Museum and the California Academy of Science among other things. You can visit the Botanical Gardens the Aquarium of The Bay and the Conservatory of Flowers , the Japanese Tea Gardens and many other places. It's one of the most beautiful places in the City."
      },
      {
        "Rating": 5,
        "Review": "We went to the science museum in golden gate park. There are many attractions there to choose from, but the science museum is by far my favorite!! So so so much to do, see, and learn there! I love it and my kids love it. Amazing in so many ways. I cannot emphasize enough how much I LOVE this place. I would recommend this place to every person!!"
      },
      {
        "Rating": 5,
        "Review": "A public park extending for a few miles to the Pacific Ocean, with a massive art museum, science museum, arboretum, gorgeous giant trees with two highways going through the length and dozens of trails for walking, cycling.skating and rollerblading. There's a spacious Japanese garden and tea house and much more. A gorgeous metropolitan park, a jewel of San Francisco."
      },
      {
        "Rating": 5,
        "Review": "Such a great place to walk in the rain, because of all the trees and foliage. The rain was just a mist yet the gardens around the park are somewhat memorial. Great place to plan an outdoor event it seems. First time here. So big"
      },
      {
        "Rating": 4,
        "Review": "Very different from parks we are used to. We thought this would be a fairly walkable park but were definitely mistaken, it is a lot bigger than we were led to believe and there are a lot of roads throughout which made it quite hard to get fully lost and enjoy the park experience. We had also read there was plenty of places to rent bikes (around and in the park) to ride through on but this wasn’t the case either, we were half way through the park when we found a bike rental and had already decided to leave. Over all it was nice, pretty and clean but not what we were expecting at all. I would call it more of a collection of small parks or gardens with stuff in between, than an actual park."
      }
    ]
  },
  {
    "Id": 2,
    "Name": "Fisherman's Wharf",
    "Main Image": "http://fishermanswharf.org/wp-content/uploads/2018/05/shutterstock_730404997.jpg",
    "Rating": 4.33,
    "Number Ratings": "6 ratings",
    "Reviews": [
      {
        "Rating": 5,
        "Review": "Visit M-F, 8:9:30AM, to avoid tourists & have the place all to yourself. Great time to take photos of the seals, Alcatraz, and all other sights at Fisherman’s Wharf."
      },
      {
        "Rating": 3,
        "Review": "A nice area with lots going on and lots of good food. It is completely geared for tourists now but we still had an enjoyable time. Our son got a crab cake from one of the stands that he said was delicious. I much prefer this wharf to Pier 39 which is too commercial and packed full of people."
      },
      {
        "Rating": 5,
        "Review": "We enjoyed Fishermans wharf! Very cosy area, good restaurants and sealions watch at Pier 39. Bubba Gump restaurant was very good with a nice view."
      },
      {
        "Rating": 5,
        "Review": "Our hotel was only 5 minutes walk from Fishermans Wharf so we were there everyday. Lots of people just enjoying the atmosphere, taking pictures or just enjoying a bite to eat with the multitude of places to eat. Visit the famous Boudin Bakehouse there, or stroll along further to Pier 39"
      },
      {
        "Rating": 4,
        "Review": "Fisherman's Wharf is a nice area of San Francisco. Although touristy, with the several souvenir shops and restaurants, it is still a beautiful place to walk along the water with great views. The sea lions on Pier 39 are a must-see! I would definitely recommend this area if you are in San Francisco!"
      },
      {
        "Rating": 4,
        "Review": "This is a happening area; it is littered with tourists, street performers, and actual litter. It is a fairly eclectic area and offers something for everyone. There's shopping, entertainment, restaurants, street vendors, art galleries, coffee shops, etc. It is a good way to spend a few hours if you don't have anything specific on your agenda. It also has other neighboring attractions that are easily accessible from this area."
      }
    ]
  },
  {
    "Id": 3,
    "Name": "Boudin Sourdough Bakery & Cafe",
    "Main Image": "https://media-cdn.tripadvisor.com/media/photo-s/05/19/77/b7/boudin-sourdough-bakery.jpg",
    "Rating": 4.5,
    "Number Ratings": "8 ratings",
    "Reviews": [
      {
        "Rating": 5,
        "Review": "Spent a lot of time wandering around this huge bakery. Lots of things to buy as well as souvenirs. Loved seeing the bread in the shape of the animals like turtles, teddy bears, aligators etc"
      },
      {
        "Rating": 3,
        "Review": "Having arrived in SF from the airport, we stopped in here earlier as it was a little too early to check into our hotel. The service was very slow; they served someone behind us first (the other customer didn’t push in). The coffee was OK, the pastry OK but nothing to write home about. And - worst of all - no restrooms. We won’t be dropping in here again."
      },
      {
        "Rating": 5,
        "Review": "Always stop in here for breakfast when I visit San Francisco, the food is great, the atmosphere great, and the hot chocolates are amazing... but it is all about the bread and you can’t beat the breakfast of scrambled eggs and bacon served in a sour dough roll! Super tasty and fun! The staff are friendly, there is plenty to see in the shop, and the bread is worth it!"
      },
      {
        "Rating": 5,
        "Review": "We came twice to do the self guided bread factory tour. You pass through a small \"museum\" and then on to the balcony where you can overlook the workers making bread and read placards to educate yourself on the process. We saw the mixing, the dumping of the dough, the cutting and shaping and handling of the dough, and then it was brought to the bread rising area before baking. Fascinating to watch!"
      },
      {
        "Rating": 5,
        "Review": "The upstairs restaurant is more fancy than below and I think that some do not realize it's up there! It is DELICIOUS. My daughter had the obligatory chowder bread bowl. She LOVED it and she doesn't like soup!!! I had the Crab Louis Salad and it was ABSOLUTELY DELICIOUS. Fresh and so yum. The view of Fishermans wharf & the harbor area is just stunning. SO fun and well worth the extra money."
      },
      {
        "Rating": 4,
        "Review": "Everytime we come to SF we have to stop at the Wharf and get a bread bowl with clam chowder. My daughter demands it and I don't mind meeting that demand since it is very good. You can get more of the bread and just eat that. The only thing I wish was that I could pack up the smell of the baking bread to take home (fewer carbs ;-) )"
      },
      {
        "Rating": 4,
        "Review": "As with the name, it is obvious that this place sells sourdough, but it is THE place to get sourdough in SF. Before going on a bay cruise, I had some time to walk down to Boudin’s to get fresh sourdough to take home. They have workers in the front window making the bread and you can watch them knead and shape the dough. Inside the cafe, the nice gentleman at the bread counter helped me pick out the best loaves for taking home with me. I got a 1/2 pound loaf, an Asiago loaf and a small turtle. The Asiago loaf is actually individual rolls all together so it made for easy eating and the small loaf was easy to cut and tasted great. Good choice."
      },
      {
        "Rating": 5,
        "Review": "Wonderful sourdough that fresh from the oven clamchowder and fresh seafood. “We love it” recommend clam-chowder, Bake Spinach, fried calamari and french onion soup."
      }
    ]
  },
  {
    "Id": 4,
    "Name": "Presidio",
    "Main Image": "https://img1.10bestmedia.com/Images/Photos/190887/p-presidio_54_990x660_201404231528.jpg",
    "Rating": 4.6,
    "Number Ratings": "5 ratings",
    "Reviews": [
      {
        "Rating": 5,
        "Review": "Beautiful trails and abundant natural habitat make this an ideal antidote for any urban overload. Possible wild parrot sighting and astonishing views of the SF Bay and wild Pacific Ocean."
      },
      {
        "Rating": 5,
        "Review": "Very beautiful! We got here early and there was plenty of parking. We enjoyed the Disney Family Museum and walking around taking in the beautiful historic buildings."
      },
      {
        "Rating": 4,
        "Review": "The Presidio in San Francisco was a previous Army post that closed in 1994 and was transferred over to the National Park Service. Since then it’s been converted into a massive living and recreational area. It’s essentially a very large park now with hiking trials, rental housing, museums, a fitness center, a camp ground, beaches, a golf course, a cemetery and so much more. The coastal hiking trails above Baker beach heading towards the Golden Gate Bridge and down in Crissy Field offer some of the best views in the entire bay area. The Presidio is a great place to bike as well and will need to go through it to be able to bike across the Golden Gate Bridge. Things get quite busy on the weekends or events such as Fleet Week and the Blue Angels events in October. The Presidio is definitely worth a visit when in San Francisco."
      },
      {
        "Rating": 4,
        "Review": "Beautiful part of the city. Originally sand dunes, it is incredibly beautiful now. Views of the Golden Gate bridge, Alcatraz and the bay are fantastic. However, dress up well as there is a cold wind normally in this area."
      },
      {
        "Rating": 5,
        "Review": "Lovely place to go for a leisurely hike with family, friends, dogs or on your own. Sun filters through trees and dogs love the freedom. Never very crowded. Children’s park. There are restaurants down below at bottom of park in old Army buildings."
      }
    ]
  },
  {
    "Id": 5,
    "Name": "Baker Beach",
    "Main Image": "https://www.californiabeaches.com/wp-content/uploads/2014/09/bigstock-Baker-Beach-San-Francisco-Large-1000x644.jpg",
    "Rating": 4.43,
    "Number Ratings": "7 ratings",
    "Reviews": [
      {
        "Rating": 4,
        "Review": "Parking was scarce. The beach was not overly crowded, but the parking was a little scarce. Looks like a local favorite. Great place for some photos and to put your toes in the sand or ocean."
      },
      {
        "Rating": 4,
        "Review": "I don’t know that it’s likely you’ll spend too much time here, but a leg stretch while you head down to the water, feel the sand between your toes and get that great photo of the Golden Gate Bridge makes this a nice stop if you are in the area."
      },
      {
        "Rating": 5,
        "Review": "This was a fantastic place for viewing the Golden Gate Bridge. There is a nice parking lot and boardwalk down to the beach. This spot, in my opnion offers one of the best picture spots in the city."
      },
      {
        "Rating": 4,
        "Review": "We were walking through the Presidio and stopped at Baker Beach to get a view of The Golden Gate Bridge. Beautiful big beach with plenty of space for spending the day and enjoying the landscape."
      },
      {
        "Rating": 5,
        "Review": "We come here often to walk our dog. Each time is different. The last time we went, there was a couple wearing their having a photo shoot for their wedding. There were all sorts of folks enjoying the area, some of which even went into the water. The most surprising was the sighting of approximately 5 dolphins... It was just beautiful. And of course, the view of the Golden Gate Bridge. Just a bit of caution to some as there can be some nudist folks towards the farther end of the beach."
      },
      {
        "Rating": 5,
        "Review": "Not a photo, but a postcard. Ideal place to get pictures of The Golden Gate bridge from every angle you may wish. If you have time, and of course the day is clear, wait for the sunset. The view of the bridge is impressive with the falling of the sun. You can go by bus which stops just in front of the bridge."
      },
      {
        "Rating": 4,
        "Review": "This big beach is outside the Bay and therefore exposed to lots of fog and ocean-caused weather. Still it's a huge beautiful beach, great for a long walk, but bundle up for cold weather!"
      }
    ]
  }
]

function display_place(db_obj) {
  var name = db_obj["Name"]
  var img_tag = '<img id="place-img" src="' + db_obj["Main Image"] + '">'
  var rating = parseFloat(db_obj["Rating"])
  var num_ratings = db_obj["Number Ratings"]
  var review_obj = db_obj["Reviews"]

  $("#name-div").append(name)
  $("#main-img-div").append(img_tag)
  $("#rating-div").append(rating)
  $("#num-rating-div").append(num_ratings)

  for (var i = 0; i < db_obj["Reviews"].length; i++) {
    var review = db_obj["Reviews"][i]["Review"]
    var row = $("<div>", {class: "review-row"})
    var review_text = $("<span>", {class: "review-text"})
    review_text.html(review)
    row.append(review_text)
    $("#reviews-container").append(row)
  }
}

var save_item = function(location){
	var data_to_save = location

	$.ajax({
        type: "POST",
        url: "item",
        dataType : "json",
        contentType: "application/json; charset=utf-8",
        data : JSON.stringify(data_to_save),
        success: function(result){
            add_item_status(1)
        },
        error: function(request, status, error){
            add_item_status(0)
            console.log("Error");
            console.log(request)
            console.log(status)
            console.log(error)
        }
    });
}

var add_item_status = function(status_bool){
	if (!status_bool) {
		$("#status").text("Unsuccessful – please check again!")
	}
	else {
		$("#status").text("Success! View your itinerary: ")
    $("#status").append('<a href="http://127.0.0.1:5000/itinerary">Itinerary Link</a>')
	}
}

$(document).ready(function () {
  int_id = parseInt(item_id)
  console.log("int id: ", int_id)
  db_obj = places[int_id - 1]
  console.log("db obj: ", db_obj)

  display_place(db_obj)

  $("#add_btn").on("click", function() {
    var add_obj = places[int_id - 1]
    save_item(add_obj)
  })
})
